(()=>{function Re(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}ye=class extends Map{constructor(e,t=Li){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(Zt(this,e))}has(e){return super.has(Zt(this,e))}set(e,t){return super.set(Hi(this,e),t)}delete(e){return super.delete(Ri(this,e))}};function Zt({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function Hi({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function Ri({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function Li(e){return e!==null&&typeof e=="object"?e.valueOf():e}Kt={value:()=>{}};function Ut(){for(var e,t=0,s=arguments.length,n={};t<s;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new le(n)}function le(e){this._=e}function Di(e,t){return e.trim().split(/^|\s+/).map(function(e){var s="",n=e.indexOf(".");if(n>=0&&(s=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:s}})}le.prototype=Ut.prototype={constructor:le,on:function(e,t){var n,s=this._,i=Di(e+"",s),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((n=(e=i[o]).type)&&(n=Ei(s[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)s[n]=Vt(s[n],e.name,t);else if(t==null)for(n in s)s[n]=Vt(s[n],e.name,null);return this},copy:function(){var n,e={},t=this._;for(n in t)e[n]=t[n].slice();return new le(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var s,o,i=new Array(s),n=0;n<s;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,s=o.length;n<s;++n)o[n].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,i=o.length;s<i;++s)o[s].value.apply(t,n)}};function Ei(e,t){for(var s,n=0,o=e.length;n<o;++n)if((s=e[n]).name===t)return s.value}function Vt(e,t,n){for(var s=0,o=e.length;s<o;++s)if(e[s].name===t){e[s]=Kt,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}It=Ut,Y="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),me.hasOwnProperty(t)?{space:me[t],local:e}:e}function xi(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Y&&t.documentElement.namespaceURI===Y?t.createElement(e):t.createElementNS(n,e)}}function Oi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Rt(e){var t=X(e);return(t.local?Oi:xi)(t)}function wi(){}function Ve(e){return e==null?wi:function(){return this.querySelector(e)}}function _i(e){typeof e!="function"&&(e=Ve(e));for(var r=this._groups,c=r.length,l=new Array(c),o=0;o<c;++o)for(var t,a,i=r[o],d=i.length,u=l[o]=new Array(d),n=0;n<d;++n)(t=i[n])&&(a=e.call(t,t.__data__,n,i))&&("__data__"in t&&(a.__data__=t.__data__),u[n]=a);return new s(l,this._parents)}function yi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ji(){return[]}function Nt(e){return e==null?ji:function(){return this.querySelectorAll(e)}}function bi(e){return function(){return yi(e.apply(this,arguments))}}function vi(e){typeof e=="function"?e=bi(e):e=Nt(e);for(var a=this._groups,l=a.length,r=[],c=[],o=0;o<l;++o)for(var t,i=a[o],d=i.length,n=0;n<d;++n)(t=i[n])&&(r.push(e.call(t,t.__data__,n,i)),c.push(t));return new s(r,c)}function Tt(e){return function(){return this.matches(e)}}function Mt(e){return function(t){return t.matches(e)}}wt=Array.prototype.find;function gi(e){return function(){return wt.call(this.children,e)}}function pi(){return this.firstElementChild}function fi(e){return this.select(e==null?pi:gi(typeof e=="function"?e:Mt(e)))}_t=Array.prototype.filter;function mi(){return Array.from(this.children)}function hi(e){return function(){return _t.call(this.children,e)}}function di(e){return this.selectAll(e==null?mi:hi(typeof e=="function"?e:Mt(e)))}function li(e){typeof e!="function"&&(e=Tt(e));for(var a=this._groups,r=a.length,c=new Array(r),t=0;t<r;++t)for(var n,i=a[t],l=i.length,d=c[t]=[],o=0;o<l;++o)(n=i[o])&&e.call(n,n.__data__,o,i)&&d.push(n);return new s(c,this._parents)}function $e(e){return new Array(e.length)}function ni(){return new s(this._enter||this._groups.map($e),this._parents)}function Q(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Q.prototype={constructor:Q,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Jo(e){return function(){return e}}function Zo(e,t,n,s,o,i){for(var r,a=0,c=t.length,l=i.length;a<l;++a)(r=t[a])?(r.__data__=i[a],s[a]=r):n[a]=new Q(e,i[a]);for(;a<c;++a)(r=t[a])&&(o[a]=r)}function Qo(e,t,n,s,o,i,a){var r,c,l,d=new Map,u=t.length,m=i.length,h=new Array(u);for(r=0;r<u;++r)(c=t[r])&&(h[r]=l=a.call(c,c.__data__,r,t)+"",d.has(l)?o[r]=c:d.set(l,c));for(r=0;r<m;++r)l=a.call(e,i[r],r,i)+"",(c=d.get(l))?(s[r]=c,c.__data__=i[r],d.delete(l)):n[r]=new Q(e,i[r]);for(r=0;r<u;++r)(c=t[r])&&d.get(h[r])===c&&(o[r]=c)}function Xo(e){return e.__data__}function Yo(e,t){if(!arguments.length)return Array.from(this,Xo);var w=t?Qo:Zo,d=this._parents,m=this._groups;typeof e!="function"&&(e=Jo(e));for(var c=m.length,o=new Array(c),u=new Array(c),h=new Array(c),n=0;n<c;++n){var i,a,p,j,r=d[n],f=m[n],y=f.length,g=qo(e.call(r,r&&r.__data__,n,d)),l=g.length,v=u[n]=new Array(l),b=o[n]=new Array(l),_=h[n]=new Array(y);w(r,f,v,b,_,g,t);for(i=0,a=0;i<l;++i)if(j=v[i]){for(i>=a&&(a=i+1);!(p=b[a])&&++a<l;);j._next=p||null}}return o=new s(o,d),o._enter=u,o._exit=h,o}function qo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ko(){return new s(this._exit||this._groups.map($e),this._parents)}function Uo(e,t,n){var s=this.enter(),o=this,i=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),s&&o?s.merge(o).order():o}function Wo(e){for(var m=e.selection?e.selection():e,a=this._groups,r=m._groups,i=a.length,u=r.length,h=Math.min(i,u),o=new Array(i),t=0;t<h;++t)for(var d,c=a[t],f=r[t],l=c.length,p=o[t]=new Array(l),n=0;n<l;++n)(d=c[n]||f[n])&&(p[n]=d);for(;t<i;++t)o[t]=a[t];return new s(o,this._parents)}function Io(){for(var o=this._groups,i=-1,a=o.length;++i<a;)for(var t,n=o[i],s=n.length-1,e=n[s];--s>=0;)(t=n[s])&&(e&&t.compareDocumentPosition(e)^4&&e.parentNode.insertBefore(t,e),e=t);return this}function Ho(e){e||(e=Po);function u(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var o=this._groups,i=o.length,a=new Array(i),t=0;t<i;++t){for(var d,r=o[t],c=r.length,l=a[t]=new Array(c),n=0;n<c;++n)(d=r[n])&&(l[n]=d);l.sort(u)}return new s(a,this._parents).order()}function Po(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ro(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lo(){return Array.from(this)}function No(){for(var n,s=this._groups,e=0,i=s.length;e<i;++e)for(var o=s[e],t=0,a=o.length;t<a;++t)if(n=o[t],n)return n;return null}function Do(){let e=0;for(const t of this)++e;return e}function zo(){return!this.node()}function To(e){for(var i=this._groups,n=0,a=i.length;n<a;++n)for(var o,s=i[n],t=0,r=s.length;t<r;++t)(o=s[t])&&e.call(o,o.__data__,t,s);return this}function Fo(e){return function(){this.removeAttribute(e)}}function Eo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yo(e,t){return function(){this.setAttribute(e,t)}}function bo(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vo(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function po(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function fo(e,t){var s,n=X(e);return arguments.length<2?(s=this.node(),n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)):this.each((t==null?n.local?Eo:Fo:typeof t=="function"?n.local?po:vo:n.local?bo:yo)(n,t))}function rt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Qs(e){return function(){this.style.removeProperty(e)}}function Ys(e,t,n){return function(){this.style.setProperty(e,t,n)}}function gs(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function ps(e,t,n){return arguments.length>1?this.each((t==null?Qs:typeof t=="function"?gs:Ys)(e,t,n??"")):A(this.node(),e)}function A(e,t){return e.style.getPropertyValue(t)||rt(e).getComputedStyle(e,null).getPropertyValue(t)}function cs(e){return function(){delete this[e]}}function rs(e,t){return function(){this[e]=t}}function is(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function os(e,t){return arguments.length>1?this.each((t==null?cs:typeof t=="function"?is:rs)(e,t)):this.node()[e]}function Ze(e){return e.trim().split(/^|\s+/)}function xe(e){return e.classList||new Qe(e)}function Qe(e){this._node=e,this._names=Ze(e.getAttribute("class")||"")}Qe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Xe(e,t){for(var s=xe(e),n=-1,o=t.length;++n<o;)s.add(t[n])}function Ge(e,t){for(var s=xe(e),n=-1,o=t.length;++n<o;)s.remove(t[n])}function ss(e){return function(){Xe(this,e)}}function ns(e){return function(){Ge(this,e)}}function ts(e,t){return function(){(t.apply(this,arguments)?Xe:Ge)(this,e)}}function es(e,t){if(n=Ze(e+""),arguments.length<2){for(var n,o=xe(this.node()),s=-1,i=n.length;++s<i;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?ts:t?ss:ns)(n,t))}function Jn(){this.textContent=""}function Zn(e){return function(){this.textContent=e}}function Qn(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Xn(e){return arguments.length?this.each(e==null?Jn:(typeof e=="function"?Qn:Zn)(e)):this.node().textContent}function Gn(){this.innerHTML=""}function tn(e){return function(){this.innerHTML=e}}function Yn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function qn(e){return arguments.length?this.each(e==null?Gn:(typeof e=="function"?Yn:tn)(e)):this.node().innerHTML}function Wn(){this.nextSibling&&this.parentNode.appendChild(this)}function Vn(){return this.each(Wn)}function Bn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hn(){return this.each(Bn)}function Pn(e){var t=typeof e=="function"?e:Rt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Rn(){return null}function Ln(e,t){var n=typeof e=="function"?e:Rt(e),s=t==null?Rn:typeof t=="function"?t:Ve(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function Nn(){var e=this.parentNode;e&&e.removeChild(this)}function Dn(){return this.each(Nn)}function zn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Tn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fn(e){return this.select(e?Tn:zn)}function Mn(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Sn(e){return function(t){e.call(this,t,this.__data__)}}function An(e){return e.trim().split(/^|\s+/).map(function(e){var n="",t=e.indexOf(".");return t>=0&&(n=e.slice(t+1),e=e.slice(0,t)),{type:e,name:n}})}function kn(e){return function(){if(n=this.__on,!n)return;for(var t,n,s=0,o=-1,i=n.length;s<i;++s)t=n[s],(!e.type||t.type===e.type)&&t.name===e.name?this.removeEventListener(t.type,t.listener,t.options):n[++o]=t;++o?n.length=o:delete this.__on}}function En(e,t,n){return function(){var s,i,r,o=this.__on,a=Sn(t);if(o)for(i=0,r=o.length;i<r;++i)if((s=o[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(s):this.__on=[s]}}function Cn(e,t,n){var s,o,i,a,l,d,r=An(e+""),c=r.length;if(arguments.length<2){if(o=this.node().__on,o)for(i=0,d=o.length;i<d;++i)for(s=0,a=o[i];s<c;++s)if((l=r[s]).type===a.type&&l.name===a.name)return a.value;return}o=t?En:kn;for(s=0;s<c;++s)this.each(o(r[s],t,n));return this}function ot(e,t,n){var o=rt(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function wn(e,t){return function(){return ot(this,e,t)}}function _n(e,t){return function(){return ot(this,e,t.apply(this,arguments))}}function yn(e,t){return this.each((typeof t=="function"?_n:wn)(e,t))}function*jn(){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var o,s=n[e],t=0,a=s.length;t<a;++t)(o=s[t])&&(yield o)}ge=[null];function s(e,t){this._groups=e,this._parents=t}function ut(){return new s([[document.documentElement]],ge)}function pn(){return this}s.prototype=ut.prototype={constructor:s,select:_i,selectAll:vi,selectChild:fi,selectChildren:di,filter:li,data:Yo,enter:ni,exit:Ko,join:Uo,merge:Wo,selection:pn,order:Io,sort:Ho,call:Ro,nodes:Lo,node:No,size:Do,empty:zo,each:To,attr:fo,style:ps,property:os,classed:es,text:Xn,html:qn,raise:Vn,lower:Hn,append:Pn,insert:Ln,remove:Dn,clone:Fn,datum:Mn,on:Cn,dispatch:yn,[Symbol.iterator]:jn},x=ut;function T(e){return typeof e=="string"?new s([[document.querySelector(e)]],[document.documentElement]):new s([[e]],ge)}function Fe(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gt(e,t){var s,n=Object.create(e.prototype);for(s in t)n[s]=t[s];return n}function $(){}z=.7,R=1/z,j="\\s*([+-]?\\d+)\\s*",D="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ot=/^#([0-9a-f]{3,8})$/,xt=new RegExp(`^rgb\\(${j},${j},${j}\\)$`),Ct=new RegExp(`^rgb\\(${i},${i},${i}\\)$`),Et=new RegExp(`^rgba\\(${j},${j},${j},${D}\\)$`),kt=new RegExp(`^rgba\\(${i},${i},${i},${D}\\)$`),At=new RegExp(`^hsl\\(${D},${i},${i}\\)$`),St=new RegExp(`^hsla\\(${D},${i},${i},${D}\\)$`),Ie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fe($,V,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ft,formatHex:Ft,formatHex8:fn,formatHsl:mn,formatRgb:Dt,toString:Dt});function Ft(){return this.rgb().formatHex()}function fn(){return this.rgb().formatHex8()}function mn(){return Yt(this).formatHsl()}function Dt(){return this.rgb().formatRgb()}function V(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=Ot.exec(e))?(s=t[1].length,t=parseInt(t[1],16),s===6?Lt(t):s===3?new n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?K(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?K(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xt.exec(e))?new n(t[1],t[2],t[3],1):(t=Ct.exec(e))?new n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Et.exec(e))?K(t[1],t[2],t[3],t[4]):(t=kt.exec(e))?K(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=At.exec(e))?qt(t[1],t[2]/100,t[3]/100,1):(t=St.exec(e))?qt(t[1],t[2]/100,t[3]/100,t[4]):Ie.hasOwnProperty(e)?Lt(Ie[e]):e==="transparent"?new n(NaN,NaN,NaN,0):null}function Lt(e){return new n(e>>16&255,e>>8&255,e&255,1)}function K(e,t,s,o){return o<=0&&(e=t=s=NaN),new n(e,t,s,o)}function dn(e){return e instanceof $||(e=V(e)),e?(e=e.rgb(),new n(e.r,e.g,e.b,e.opacity)):new n}function C(e,t,s,o){return arguments.length===1?dn(e):new n(e,t,s,o??1)}function n(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}Fe(n,C,gt($,{brighter(e){return e=e==null?R:R**e,new n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?z:z**e,new n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new n(v(this.r),v(this.g),v(this.b),oe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bt,formatHex:Bt,formatHex8:ln,formatRgb:$t,toString:$t}));function Bt(){return`#${_(this.r)}${_(this.g)}${_(this.b)}`}function ln(){return`#${_(this.r)}${_(this.g)}${_(this.b)}${_((isNaN(this.opacity)?1:this.opacity)*255)}`}function $t(){const e=oe(this.opacity);return`${e===1?"rgb(":"rgba("}${v(this.r)}, ${v(this.g)}, ${v(this.b)}${e===1?")":`, ${e})`}`}function oe(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function v(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _(e){return e=v(e),(e<16?"0":"")+e.toString(16)}function qt(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new a(e,t,n,s)}function Yt(e){if(e instanceof a)return new a(e.h,e.s,e.l,e.opacity);if(e instanceof $||(e=V(e)),!e)return new a;if(e instanceof a)return e;e=e.rgb();var i=e.r/255,n=e.g/255,r=e.b/255,c=Math.min(i,n,r),s=Math.max(i,n,r),o=NaN,t=s-c,l=(s+c)/2;return t?(i===s?o=(n-r)/t+(n<r)*6:n===s?o=(r-i)/t+2:o=(i-n)/t+4,t/=l<.5?s+c:2-s-c,o*=60):t=l>0&&l<1?0:o,new a(o,t,l,e.opacity)}function cn(e,t,n,s){return arguments.length===1?Yt(e):new a(e,t,n,s??1)}function a(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}Fe(a,cn,gt($,{brighter(e){return e=e==null?R:R**e,new a(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?z:z**e,new a(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,i=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,s=t+(t<.5?t:1-t)*i,o=2*t-s;return new n(Le(e>=240?e-240:e+120,o,s),Le(e,o,s),Le(e<120?e+240:e-120,o,s),this.opacity)},clamp(){return new a(Qt(this.h),ie(this.s),ie(this.l),oe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oe(this.opacity);return`${e===1?"hsl(":"hsla("}${Qt(this.h)}, ${ie(this.s)*100}%, ${ie(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qt(e){return e=(e||0)%360,e<0?e+360:e}function ie(e){return Math.max(0,Math.min(1,e||0))}function Le(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function en(e,t,n,s,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*s+a*o)/6}function sn(e){var t=e.length-1;return function(n){var s=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[s],i=e[s+1],a=s>0?e[s-1]:2*o-i,r=s<t-1?e[s+2]:2*i-o;return en((n-s/t)*t,a,o,i,r)}}function Xs(e){var t=e.length;return function(n){var s=Math.floor(((n%=1)<0?++n:n)*t),o=e[(s+t-1)%t],i=e[s%t],a=e[(s+1)%t],r=e[(s+2)%t];return en((n-s/t)*t,o,i,a,r)}}Te=e=>()=>e;function on(e,t){return function(n){return e+n*t}}function an(e,t,n){return e=e**n,t=t**n-e,n=1/n,function(s){return(e+s*t)**n}}function rn(e){return(e=+e)===1?Gt:function(t,n){return n-t?an(t,n,e):Te(isNaN(t)?n:t)}}function Gt(e,t){var n=t-e;return n?on(e,n):Te(isNaN(e)?t:e)}we=function e(t){var n=rn(t);function s(e,t){var s=n((e=C(e)).r,(t=C(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Gt(e.opacity,t.opacity);return function(t){return e.r=s(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return s.gamma=e,s}(1);function Pt(e){return function(t){var n,s,o=t.length,i=new Array(o),a=new Array(o),r=new Array(o);for(s=0;s<o;++s)n=C(t[s]),i[s]=n.r||0,a[s]=n.g||0,r[s]=n.b||0;return i=e(i),a=e(a),r=e(r),n.opacity=1,function(e){return n.r=i(e),n.g=a(e),n.b=r(e),n+""}}}un=Pt(sn),hn=Pt(Xs);function f(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(ae.source,"g");function gn(e){return function(){return e}}function vn(e){return function(t){return e(t)+""}}function bn(e,t){var o,i,c,a=ae.lastIndex=re.lastIndex=0,s=-1,n=[],r=[];for(e=e+"",t=t+"";(c=ae.exec(e))&&(i=re.exec(t));)(o=i.index)>a&&(o=t.slice(a,o),n[s]?n[s]+=o:n[++s]=o),(c=c[0])===(i=i[0])?n[s]?n[s]+=i:n[++s]=i:(n[++s]=null,r.push({i:s,x:f(c,i)})),a=re.lastIndex;return a<t.length&&(o=t.slice(a),n[s]?n[s]+=o:n[++s]=o),n.length<2?r[0]?vn(r[0].x):gn(t):(t=r.length,function(e){for(var o,s=0;s<t;++s)n[(o=r[s]).i]=o.x(e);return n.join("")})}fe=180/Math.PI,te={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function at(e,t,n,s,o,i){var a,r,c;return(r=(e*e+t*t)**.5)&&(e/=r,t/=r),(a=e*n+t*s)&&(n-=e*a,s-=t*a),(c=(n*n+s*s)**.5)&&(n/=c,s/=c,a/=c),e*s<t*n&&(e=-e,t=-t,a=-a,r=-r),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*fe,skewX:Math.atan(a)*fe,scaleX:r,scaleY:c}}function On(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?te:at(t.a,t.b,t.c,t.d,t.e,t.f)}function xn(e){return e==null?te:(he||(he=document.createElementNS("http://www.w3.org/2000/svg","g")),he.setAttribute("transform",e),(e=he.transform.baseVal.consolidate())?(e=e.matrix,at(e.a,e.b,e.c,e.d,e.e,e.f)):te)}function st(e,t,n,s){function o(e){return e.length?e.pop()+" ":""}function i(e,s,o,i,a,r){if(e!==o||s!==i){var c=a.push("translate(",null,t,null,n);r.push({i:c-4,x:f(e,o)},{i:c-2,x:f(s,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}function a(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,s)-2,x:f(e,t)})):t&&n.push(o(n)+"rotate("+t+s)}function r(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,s)-2,x:f(e,t)}):t&&n.push(o(n)+"skewX("+t+s)}function c(e,t,n,s,i,a){if(e!==n||t!==s){var r=i.push(o(i)+"scale(",null,",",null,")");a.push({i:r-4,x:f(e,n)},{i:r-2,x:f(t,s)})}else(n!==1||s!==1)&&i.push(o(i)+"scale("+n+","+s+")")}return function(t,n){var s=[],o=[];return t=e(t),n=e(n),i(t.translateX,t.translateY,n.translateX,n.translateY,s,o),a(t.rotate,n.rotate,s,o),r(t.skewX,n.skewX,s,o),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,s,o),t=n=null,function(e){for(var n,t=-1,i=o.length;++t<i;)s[(n=o[t]).i]=n.x(e);return s.join("")}}}nt=st(On,"px, ","px)","deg)"),tt=st(xn,", ",")",")"),w=0,k=0,F=0,Ce=1e3,P=0,p=0,I=0,S=typeof performance=="object"&&performance.now?performance:Date,Be=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Se(){return p||(Be(In),p=S.now()+I)}function In(){p=0}function de(){this._call=this._time=this._next=null}de.prototype=We.prototype={constructor:de,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Se():+n)+(t==null?0:+t),!this._next&&H!==this&&(H?H._next=this:ee=this,H=this),this._call=e,this._time=n,He()},stop:function(){this._call&&(this._call=null,this._time=1/0,He())}};function We(e,t,n){var s=new de;return s.restart(e,t,n),s}function $n(){Se(),++w;for(var t,e=ee;e;)(t=p-e._time)>=0&&e._call.call(0[0],t),e=e._next;--w}function Ue(){p=(P=S.now())+I,w=k=0;try{$n()}finally{w=0,Kn(),p=0}}function Un(){var e=S.now(),t=e-P;t>Ce&&(I-=t,P=e)}function Kn(){for(var t,n,e=ee,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ee=n);H=t,He(s)}function He(e){if(w)return;k&&(k=clearTimeout(k));var t=e-p;t>24?(e<1/0&&(k=setTimeout(Ue,e-S.now()-I)),F&&(F=clearInterval(F))):(F||(P=S.now(),F=setInterval(Un,Ce)),w=1,Be(Ue))}function Ke(e,t,n){var s=new de;return t=t==null?0:+t,s.restart(n=>{s.stop(),e(n+t)},t,n),s}qe=It("start","end","cancel","interrupt"),Ye=[],De=0,ze=1,J=2,W=3,Me=4,q=5,B=6;function se(e,t,n,s,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};ls(e,n,{name:t,index:s,group:o,on:qe,tween:Ye,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:De})}function _e(e,t){var n=o(e,t);if(n.state>De)throw new Error("too late; already scheduled");return n}function c(e,t){var n=o(e,t);if(n.state>W)throw new Error("too late; already running");return n}function o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ls(e,t,n){var o,s=e.__transition;s[t]=n,n.timer=We(c,0,n.time);function c(e){n.state=ze,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(c){var l,d,u,h;if(n.state!==ze)return a();for(d in s){if(l=s[d],l.name!==n.name)continue;if(l.state===W)return Ke(i);l.state===Me?(l.state=B,l.timer.stop(),l.on.call("interrupt",e,e.__data__,l.index,l.group),delete s[d]):+d<t&&(l.state=B,l.timer.stop(),l.on.call("cancel",e,e.__data__,l.index,l.group),delete s[d])}if(Ke(function(){n.state===W&&(n.state=Me,n.timer.restart(r,n.delay,n.time),r(c))}),n.state=J,n.on.call("start",e,e.__data__,n.index,n.group),n.state!==J)return;n.state=W,o=new Array(h=n.tween.length);for(d=0,u=-1;d<h;++d)(l=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=l);o.length=u+1}function r(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=q,1),s=-1,r=o.length;++s<r;)o[s].call(e,i);n.state===q&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=B,n.timer.stop(),delete s[t];for(var o in s)return;delete e.__transition}}function ds(e,t){var n,o,i,s=e.__transition,a=!0;if(!s)return;t=t==null?null:t+"";for(o in s){if((n=s[o]).name!==t){a=!1;continue}i=n.state>J&&n.state<q,n.state=B,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[o]}a&&delete e.__transition}function us(e){return this.each(function(){ds(this,e)})}function hs(e,t){var n,s;return function(){var o,r,i=c(this,e),a=i.tween;if(a!==s){n=s=a;for(o=0,r=n.length;o<r;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function ms(e,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){if(a=c(this,e),r=a.tween,r!==o){s=(o=r).slice();for(var a,r,l={name:t,value:n},i=0,d=s.length;i<d;++i)if(s[i].name===t){s[i]=l;break}i===d&&s.push(l)}a.tween=s}}function fs(e,t){if(n=this._id,e+="",arguments.length<2){for(var n,a,i=o(this.node(),n).tween,s=0,r=i.length;s<r;++s)if((a=i[s]).name===e)return a.value;return null}return this.each((t==null?hs:ms)(n,e,t))}function ve(e,t,n){var s=e._id;return e.each(function(){var e=c(this,s);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return o(e,s).value[t]}}function Je(e,t){var n;return(typeof t=="number"?f:t instanceof V?we:(n=V(t))?(t=n,we):bn)(e,t)}function vs(e){return function(){this.removeAttribute(e)}}function bs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function js(e,t,n){var s,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===s?o:o=t(s=a,n)}}function ys(e,t,n){var s,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===s?o:o=t(s=a,n)}}function _s(e,t,n){var s,o,i;return function(){var a,r,c=n(this);return c==null?void this.removeAttribute(e):(a=this.getAttribute(e),r=c+"",a===r?null:a===s&&r===o?i:(o=r,i=t(s=a,c)))}}function ws(e,t,n){var s,o,i;return function(){var a,r,c=n(this);return c==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),r=c+"",a===r?null:a===s&&r===o?i:(o=r,i=t(s=a,c)))}}function Os(e,t){var n=X(e),s=n==="transform"?tt:Je;return this.attrTween(e,typeof t=="function"?(n.local?ws:_s)(n,s,ve(this,"attr."+e,t)):t==null?(n.local?bs:vs)(n):(n.local?ys:js)(n,s,t))}function xs(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Cs(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Es(e,t){var n,s;function o(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&Cs(e,o)),n}return o._value=t,o}function ks(e,t){var n,s;function o(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&xs(e,o)),n}return o._value=t,o}function As(e,t){var s,n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return s=X(e),this.tween(n,(s.local?Es:ks)(s,t))}function Ss(e,t){return function(){_e(this,e).delay=+t.apply(this,arguments)}}function Ms(e,t){return t=+t,function(){_e(this,e).delay=t}}function Fs(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ss:Ms)(t,e)):o(this.node(),t).delay}function Ts(e,t){return function(){c(this,e).duration=+t.apply(this,arguments)}}function zs(e,t){return t=+t,function(){c(this,e).duration=t}}function Ds(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ts:zs)(t,e)):o(this.node(),t).duration}function Ns(e,t){if(typeof t!="function")throw new Error;return function(){c(this,e).ease=t}}function Ls(e){var t=this._id;return arguments.length?this.each(Ns(t,e)):o(this.node(),t).ease}function Rs(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;c(this,e).ease=n}}function Ps(e){if(typeof e!="function")throw new Error;return this.each(Rs(this._id,e))}function Hs(e){typeof e!="function"&&(e=Tt(e));for(var i=this._groups,a=i.length,r=new Array(a),t=0;t<a;++t)for(var n,o=i[t],c=o.length,l=r[t]=[],s=0;s<c;++s)(n=o[s])&&e.call(n,n.__data__,s,o)&&l.push(n);return new d(r,this._parents,this._name,this._id)}function Is(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,l=e._groups,o=i.length,m=l.length,u=Math.min(o,m),s=new Array(o),t=0;t<u;++t)for(var c,r=i[t],h=l[t],a=r.length,f=s[t]=new Array(a),n=0;n<a;++n)(c=r[n]||h[n])&&(f[n]=c);for(;t<o;++t)s[t]=i[t];return new d(s,this._parents,this._name,this._id)}function Bs(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function Vs(e,t,n){var s,o,i=Bs(t)?_e:c;return function(){var a=i(this,e),r=a.on;r!==s&&(o=(s=r).copy()).on(t,n),a.on=o}}function $s(e,t){var n=this._id;return arguments.length<2?o(this.node(),n).on.on(e):this.each(Vs(n,e,t))}function Ws(e){return function(){var n,t=this.parentNode;for(n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Us(){return this.on("end.remove",Ws(this._id))}function Ks(e){a=this._name,s=this._id,typeof e!="function"&&(e=Ve(e));for(var s,a,u=this._groups,h=u.length,m=new Array(h),i=0;i<h;++i)for(var n,l,r=u[i],f=r.length,c=m[i]=new Array(f),t=0;t<f;++t)(n=r[t])&&(l=e.call(n,n.__data__,t,r))&&("__data__"in n&&(l.__data__=n.__data__),c[t]=l,se(c[t],a,s,t,c,o(n,s)));return new d(m,this._parents,a,s)}function qs(e){r=this._name,n=this._id,typeof e!="function"&&(e=Nt(e));for(var n,r,f=this._groups,g=f.length,m=[],h=[],c=0;c<g;++c)for(var t,l=f[c],p=l.length,a=0;a<p;++a)if(t=l[a]){for(var u,i=e.call(t,t.__data__,a,l),v=o(t,n),s=0,b=i.length;s<b;++s)(u=i[s])&&se(u,r,n,s,i,v);m.push(i),h.push(t)}return new d(m,h,r,n)}et=x.prototype.constructor;function Gs(){return new et(this._groups,this._parents)}function nn(e,t){var n,s,o;return function(){var i=A(this,e),a=(this.style.removeProperty(e),A(this,e));return i===a?null:i===n&&a===s?o:o=t(n=i,s=a)}}function it(e){return function(){this.style.removeProperty(e)}}function Zs(e,t,n){var s,o,i=n+"";return function(){var a=A(this,e);return a===i?null:a===s?o:o=t(s=a,n)}}function Js(e,t,n){var s,o,i;return function(){var c=A(this,e),a=n(this),r=a+"";return a==null&&(r=a=(this.style.removeProperty(e),A(this,e))),c===r?null:c===s&&r===o?i:(o=r,i=t(s=c,a))}}function eo(e,t){var n,s,o,a,i="style."+t,r="end."+i;return function(){var l=c(this,e),d=l.on,u=l.value[i]==null?a||(a=it(t)):0[0];(d!==n||o!==u)&&(s=(n=d).copy()).on(r,o=u),l.on=s}}function to(e,t,n){var s=(e+="")==="transform"?nt:Je;return t==null?this.styleTween(e,nn(e,s)).on("end.style."+e,it(e)):typeof t=="function"?this.styleTween(e,Js(e,s,ve(this,"style."+e,t))).each(eo(this._id,e)):this.styleTween(e,Zs(e,s,t),n).on("end.style."+e,null)}function no(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function so(e,t,n){var s,o;function i(){var i=t.apply(this,arguments);return i!==o&&(s=(o=i)&&no(e,i,n)),s}return i._value=t,i}function oo(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,so(e,t,n??""))}function io(e){return function(){this.textContent=e}}function ao(e){return function(){var t=e(this);this.textContent=t??""}}function ro(e){return this.tween("text",typeof e=="function"?ao(ve(this,"text",e)):io(e==null?"":e+""))}function co(e){return function(t){this.textContent=e.call(this,t)}}function lo(e){var t,n;function s(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&co(s)),t}return s._value=e,s}function uo(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lo(e))}function ho(){for(var e,r=this._name,l=this._id,c=lt(),n=this._groups,u=n.length,s=0;s<u;++s)for(var a,i=n[s],h=i.length,t=0;t<h;++t)(a=i[t])&&(e=o(a,l),se(a,r,c,t,i,{time:e.time+e.delay+e.duration,delay:0,duration:e.duration,ease:e.ease}));return new d(n,this._parents,r,c)}function mo(){var e,n,t=this,o=t._id,s=t.size();return new Promise(function(i,a){var r={value:a},l={value:function(){--s===0&&i()}};t.each(function(){var t=c(this,o),s=t.on;s!==n&&(e=(n=s).copy(),e._.cancel.push(r),e._.interrupt.push(r),e._.end.push(l)),t.on=e}),s===0&&i()})}ct=0;function d(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function go(e){return x().transition(e)}function lt(){return++ct}l=x.prototype,d.prototype=go.prototype={constructor:d,select:Ks,selectAll:qs,selectChild:l.selectChild,selectChildren:l.selectChildren,filter:Hs,merge:Is,selection:Gs,transition:ho,call:l.call,nodes:l.nodes,node:l.node,size:l.size,empty:l.empty,each:l.each,on:$s,attr:Os,attrTween:As,style:to,styleTween:oo,text:ro,textTween:uo,remove:Us,tween:fs,delay:Fs,duration:Ds,ease:Ls,easeVarying:Ps,end:mo,[Symbol.iterator]:l[Symbol.iterator]};function jo(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}dt={time:null,delay:0,duration:250,ease:jo};function _o(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function wo(e){e instanceof d?(t=e._id,e=e._name):(t=lt(),(r=dt).time=Se(),e=e==null?null:e+"");for(var t,r,s=this._groups,c=s.length,o=0;o<c;++o)for(var a,i=s[o],l=i.length,n=0;n<l;++n)(a=i[n])&&se(a,e,t,n,i,r||_o(a,t));return new d(s,this._parents,e,t)}x.prototype.interrupt=us,x.prototype.transition=wo;var{abs:Wi,max:$i,min:Vi}=Math,Kt,It,Y,me,wt,_t,ge,i,j,x,z,D,R,Ot,xt,Ct,Et,kt,At,St,Ie,Te,we,un,hn,ae,re,fe,te,he,nt,tt,p,w,zt,ue,t,r,k,F,Ce,ee,O,S,P,H,I,Be,qe,Ye,De,ze,W,J,Me,B,q,et,ct,l,dt,ye,Ao,So,Mo,je,g,y,Oe,N,Ee,ke,h,U,G,Z,mt,ne,vt,Ne,yt,Pe,e,m,M,L,Ht,Xt,pe;function ht(e){return[+e[0],+e[1]]}function ko(e){return[ht(e[0]),ht(e[1])]}Ao={name:"x",handles:["w","e"].map(be),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},So={name:"y",handles:["n","s"].map(be),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Mo={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(be),input:function(e){return e==null?null:ko(e)},output:function(e){return e}};function be(e){return{type:e}}je=Math.abs,y=Math.cos,g=Math.sin,Oe=Math.PI,N=Oe/2,Ee=Oe*2,ke=Math.max,Z=1e-12;function Ae(e,t){return Array.from({length:t-e},(t,n)=>e+n)}function Bo(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function Vo(){return $o(!1,!1)}function $o(e,t){var i=0,a=null,s=null,o=null;function n(n){var m,r=n.length,d=new Array(r),h=Ae(0,r),c=new Array(r*r),u=new Array(r),l=0;n=Float64Array.from({length:r*r},t?(e,t)=>n[t%r][t/r|0]:(e,t)=>n[t/r|0][t%r]);for(let t=0;t<r;++t){let s=0;for(let o=0;o<r;++o)s+=n[t*r+o]+e*n[o*r+t];l+=d[t]=s}l=ke(0,Ee-i*r)/l,m=l?i:Ee/r;{let t=0;a&&h.sort((e,t)=>a(d[e],d[t]));for(const o of h){const i=t;if(e){const e=Ae(~r+1,r).filter(e=>e<0?n[~e*r+o]:n[o*r+e]);s&&e.sort((e,t)=>s(e<0?-n[~e*r+o]:n[o*r+e],t<0?-n[~t*r+o]:n[o*r+t]));for(const s of e)if(s<0){const e=c[~s*r+o]||(c[~s*r+o]={source:null,target:null});e.target={index:o,startAngle:t,endAngle:t+=n[~s*r+o]*l,value:n[~s*r+o]}}else{const e=c[o*r+s]||(c[o*r+s]={source:null,target:null});e.source={index:o,startAngle:t,endAngle:t+=n[o*r+s]*l,value:n[o*r+s]}}u[o]={index:o,startAngle:i,endAngle:t,value:d[o]}}else{const e=Ae(0,r).filter(e=>n[o*r+e]||n[e*r+o]);s&&e.sort((e,t)=>s(n[o*r+e],n[o*r+t]));for(const i of e){let s;if(o<i?(s=c[o*r+i]||(c[o*r+i]={source:null,target:null}),s.source={index:o,startAngle:t,endAngle:t+=n[o*r+i]*l,value:n[o*r+i]}):(s=c[i*r+o]||(c[i*r+o]={source:null,target:null}),s.target={index:o,startAngle:t,endAngle:t+=n[o*r+i]*l,value:n[o*r+i]},o===i&&(s.source=s.target)),s.source&&s.target&&s.source.value<s.target.value){const e=s.source;s.source=s.target,s.target=e}}u[o]={index:o,startAngle:i,endAngle:t,value:d[o]}}t+=m}}return c=Object.values(c),c.groups=u,o?c.sort(o):c}return n.padAngle=function(e){return arguments.length?(i=ke(0,e),n):i},n.sortGroups=function(e){return arguments.length?(a=e,n):a},n.sortSubgroups=function(e){return arguments.length?(s=e,n):s},n.sortChords=function(e){return arguments.length?(e==null?o=null:(o=Bo(e))._=e,n):o&&o._},n}U=Math.PI,G=2*U,h=1e-6,mt=G-h;function ft(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Go(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ft;const n=10**t;return function(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}ne=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ft:Go(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,s){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,t,n,s,o,i){this._append`C${+e},${+t},${+n},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(e,t,n,s,o){if(e=+e,t=+t,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let d=this._x1,u=this._y1,r=n-e,c=s-t,i=d-e,a=u-t,l=i*i+a*a;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(l>h)if(!(Math.abs(a*r-c*i)>h)||!o)this._append`L${this._x1=e},${this._y1=t}`;else{let m=n-d,f=s-u,g=r*r+c*c,_=m*m+f*f,v=g**.5,b=l**.5,j=o*Math.tan((U-Math.acos((g+l-_)/(2*v*b)))/2),p=j/b,y=j/v;Math.abs(p-1)>h&&this._append`L${e+p*i},${t+p*a}`,this._append`A${o},${o},0,0,${+(a*m>i*f)},${this._x1=e+y*r},${this._y1=t+y*c}`}}arc(e,t,n,s,o,i){if(e=+e,t=+t,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),u=n*Math.sin(s),r=e+d,c=t+u,l=1^i,a=i?s-o:o-s;if(this._x1===null?this._append`M${r},${c}`:(Math.abs(this._x1-r)>h||Math.abs(this._y1-c)>h)&&this._append`L${r},${c}`,!n)return;a<0&&(a=a%G+G),a>mt?this._append`A${n},${n},0,1,${l},${e-d},${t-u}A${n},${n},0,1,${l},${this._x1=r},${this._y1=c}`:a>h&&this._append`A${n},${n},0,${+(a>=U)},${l},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`}rect(e,t,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}};function pt(){return new ne}pt.prototype=ne.prototype,vt=Array.prototype.slice;function b(e){return function(){return e}}function ei(e){return e.source}function ti(e){return e.target}function bt(e){return e.radius}function si(e){return e.startAngle}function oi(e){return e.endAngle}function ii(){return 0}function ai(e){var r=ei,c=ti,s=bt,o=bt,i=si,a=oi,l=ii,n=null;function t(){var j,O=r.apply(this,arguments),w=c.apply(this,arguments),u=l.apply(this,arguments)/2,m=vt.call(arguments),v=+s.apply(this,(m[0]=O,m)),d=i.apply(this,m)-N,f=a.apply(this,m)-N,p=+o.apply(this,(m[0]=w,m)),t=i.apply(this,m)-N,h=a.apply(this,m)-N;if(n||(n=j=pt()),u>Z&&(je(f-d)>u*2+Z?f>d?(d+=u,f-=u):(d-=u,f+=u):d=f=(d+f)/2,je(h-t)>u*2+Z?h>t?(t+=u,h-=u):(t-=u,h+=u):t=h=(t+h)/2),n.moveTo(v*y(d),v*g(d)),n.arc(0,0,v,d,f),d!==t||f!==h)if(e){var x=+e.apply(this,arguments),b=p-x,_=(t+h)/2;n.quadraticCurveTo(0,0,b*y(t),b*g(t)),n.lineTo(p*y(_),p*g(_)),n.lineTo(b*y(h),b*g(h))}else n.quadraticCurveTo(0,0,p*y(t),p*g(t)),n.arc(0,0,p,t,h);if(n.quadraticCurveTo(0,0,v*y(d),v*g(d)),n.closePath(),j)return n=null,j+""||null}return e&&(t.headRadius=function(n){return arguments.length?(e=typeof n=="function"?n:b(+n),t):e}),t.radius=function(e){return arguments.length?(s=o=typeof e=="function"?e:b(+e),t):s},t.sourceRadius=function(e){return arguments.length?(s=typeof e=="function"?e:b(+e),t):s},t.targetRadius=function(e){return arguments.length?(o=typeof e=="function"?e:b(+e),t):o},t.startAngle=function(e){return arguments.length?(i=typeof e=="function"?e:b(+e),t):i},t.endAngle=function(e){return arguments.length?(a=typeof e=="function"?e:b(+e),t):a},t.padAngle=function(e){return arguments.length?(l=typeof e=="function"?e:b(+e),t):l},t.source=function(e){return arguments.length?(r=e,t):r},t.target=function(e){return arguments.length?(c=e,t):c},t.context=function(e){return arguments.length?(n=e??null,t):n},t}function ri(){return ai()}function ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}Ne=Symbol("implicit");function jt(){var t=new ye,n=[],s=[],o=Ne;function e(e){let i=t.get(e);if(i===0[0]){if(o!==Ne)return o;t.set(e,i=n.push(e)-1)}return s[i%s.length]}return e.domain=function(s){if(!arguments.length)return n.slice();n=[],t=new ye;for(const e of s){if(t.has(e))continue;t.set(e,n.push(e)-1)}return e},e.range=function(t){return arguments.length?(s=Array.from(t),e):s.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return jt(n,s).unknown(o)},ci.apply(e,arguments),e}function ui(e){for(var n=e.length/6|0,s=new Array(n),t=0;t<n;)s[t]="#"+e.slice(t*6,++t*6);return s}yt=ui("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function u(e){return function(){return e}}Pe=Math.abs,e=Math.atan2,m=Math.cos,zt=Math.max,ue=Math.min,r=Math.sin,O=Math.sqrt,t=1e-12,M=Math.PI,L=M/2,Ht=2*M;function Ci(e){return e>1?0:e<-1?M:Math.acos(e)}function Wt(e){return e>=1?L:e<=-1?-L:Math.asin(e)}function ki(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new ne(t)}function Ai(e){return e.innerRadius}function Si(e){return e.outerRadius}function Mi(e){return e.startAngle}function Fi(e){return e.endAngle}function Ti(e){return e&&e.padAngle}function zi(e,n,s,o,i,a,r,c){var d=s-e,u=o-n,h=r-i,m=c-a,l=m*d-h*u;if(l*l<t)return;return l=(h*(n-a)-m*(e-i))/l,[e+l*d,n+l*u]}function ce(e,t,n,s,o,i,a){var b=e-n,w=t-s,C=(a?i:-i)/O(b*b+w*w),_=C*w,y=-C*b,j=e+_,p=t+y,g=n+_,v=s+y,E=(j+g)/2,x=(p+v)/2,c=g-j,r=v-p,d=c*c+r*r,f=o-i,l=j*v-g*p,h=(r<0?-1:1)*O(zt(0,f*f*d-l*l)),m=(l*r-c*h)/d,u=(-l*c-r*h)/d,k=(l*r+c*h)/d,A=(-l*c+r*h)/d,S=m-E,M=u-x,F=k-E,T=A-x;return S*S+M*M>F*F+T*T&&(m=k,u=A),{cx:m,cy:u,x01:-_,y01:-y,x11:m*(o/f-1),y11:u*(o/f-1)}}function Ni(){var o=Ai,i=Si,d=u(0),a=null,c=Mi,l=Fi,h=Ti,n=null,f=ki(s);function s(){var I,Q,p=+o.apply(this,arguments),g=+i.apply(this,arguments),b=c.apply(this,arguments)-L,j=l.apply(this,arguments)-L,D=Pe(j-b),v=j>b;if(n||(n=I=f()),g<p&&(Q=g,g=p,p=Q),g>t)if(D>Ht-t)n.moveTo(g*m(b),g*r(b)),n.arc(0,0,g,b,j,!v),p>t&&(n.moveTo(p*m(j),p*r(j)),n.arc(0,0,p,j,b,v));else{var s,u,F,T,z=b,k=j,S=b,A=j,V=D,$=D,X=h.apply(this,arguments)/2,W=X>t&&(a?+a.apply(this,arguments):O(p*p+g*g)),x=ue(Pe(g-p)/2,+d.apply(this,arguments)),w=x,_=x;W>t&&(F=Wt(W/p*r(X)),T=Wt(W/g*r(X)),(V-=F*2)>t?(F*=v?1:-1,S+=F,A-=F):(V=0,S=A=(b+j)/2),($-=T*2)>t?(T*=v?1:-1,z+=T,k-=T):($=0,z=k=(b+j)/2));var E=g*m(z),C=g*r(z),H=p*m(A),P=p*r(A);if(x>t){var y,R=g*m(k),N=g*r(k),U=p*m(S),K=p*r(S);if(D<M)if(y=zi(E,C,U,K,R,N,H,P)){var Y=E-y[0],G=C-y[1],B=R-y[0],q=N-y[1],Z=1/r(Ci((Y*B+G*q)/(O(Y*Y+G*G)*O(B*B+q*q)))/2),J=O(y[0]*y[0]+y[1]*y[1]);w=ue(x,(p-J)/(Z-1)),_=ue(x,(g-J)/(Z+1))}else w=_=0}$>t?_>t?(s=ce(U,K,E,C,g,_,v),u=ce(R,N,H,P,g,_,v),n.moveTo(s.cx+s.x01,s.cy+s.y01),_<x?n.arc(s.cx,s.cy,_,e(s.y01,s.x01),e(u.y01,u.x01),!v):(n.arc(s.cx,s.cy,_,e(s.y01,s.x01),e(s.y11,s.x11),!v),n.arc(0,0,g,e(s.cy+s.y11,s.cx+s.x11),e(u.cy+u.y11,u.cx+u.x11),!v),n.arc(u.cx,u.cy,_,e(u.y11,u.x11),e(u.y01,u.x01),!v))):(n.moveTo(E,C),n.arc(0,0,g,z,k,!v)):n.moveTo(E,C),!(p>t)||!(V>t)?n.lineTo(H,P):w>t?(s=ce(H,P,R,N,p,-w,v),u=ce(E,C,U,K,p,-w,v),n.lineTo(s.cx+s.x01,s.cy+s.y01),w<x?n.arc(s.cx,s.cy,w,e(s.y01,s.x01),e(u.y01,u.x01),!v):(n.arc(s.cx,s.cy,w,e(s.y01,s.x01),e(s.y11,s.x11),!v),n.arc(0,0,p,e(s.cy+s.y11,s.cx+s.x11),e(u.cy+u.y11,u.cx+u.x11),v),n.arc(u.cx,u.cy,w,e(u.y11,u.x11),e(u.y01,u.x01),!v))):n.arc(0,0,p,A,S,v)}else n.moveTo(0,0);if(n.closePath(),I)return n=null,I+""||null}return s.centroid=function(){var e=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2,t=(+c.apply(this,arguments)+ +l.apply(this,arguments))/2-M/2;return[m(t)*e,r(t)*e]},s.innerRadius=function(e){return arguments.length?(o=typeof e=="function"?e:u(+e),s):o},s.outerRadius=function(e){return arguments.length?(i=typeof e=="function"?e:u(+e),s):i},s.cornerRadius=function(e){return arguments.length?(d=typeof e=="function"?e:u(+e),s):d},s.padRadius=function(e){return arguments.length?(a=e==null?null:typeof e=="function"?e:u(+e),s):a},s.startAngle=function(e){return arguments.length?(c=typeof e=="function"?e:u(+e),s):c},s.endAngle=function(e){return arguments.length?(l=typeof e=="function"?e:u(+e),s):l},s.padAngle=function(e){return arguments.length?(h=typeof e=="function"?e:u(+e),s):h},s.context=function(e){return arguments.length?(n=e??null,s):n},s}function E(e,t,n){this.k=e,this.x=t,this.y=n}E.prototype={constructor:E,scale:function(e){return e===1?this:new E(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new E(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Xt=new E(1,0,0),Pi.prototype=E.prototype;function Pi(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Xt;return e.__zoom}pe=navigator.language.split("-")[0];function Ii(e){let t={};for(const[n,s]of Object.entries(e))s.posts.forEach(e=>{e in t?t[e].push(n):t[e]=[n]});return t}function Jt(e,t=0[0]){return t!==0[0]&&e in t&&"translations"in t[e]&&pe in t[e].translations?t[e].translations[pe]:e}function Co(e){let t=[];const n=Ii(e);for(const[i,o]of Object.entries(n))var s=o.flatMap((n,s)=>o.slice(s+1).map(s=>{const o=Jt(n,e),a=Jt(s,e);t.push({from:o,to:a,url:i})}));return t}function xo(e){const i=Array.from(new Set(e.flatMap(e=>[e[0],e[1]]))),t=i.map((e,t)=>({name:e,index:t})),n=new Map;t.forEach(e=>n.set(e.name,e.index));const o=new Map;t.forEach(e=>o.set(e.index,e.name));const s=Array(t.length).fill(null).map(()=>Array(t.length).fill(0));return e.forEach(e=>{const[i,a]=e,t=n.get(i),o=n.get(a);t!==0[0]&&o!==0[0]&&(s[t][o]+=1,s[o][t]+=1)}),{groupMatrix:s,nodes:t,nodeNameMap:o,individualFlows:e}}function Oo(e,t,n={},s="/tags/"){if(!e){console.error(`HTML element with ID "${e.id||"N/A"}" not found!`);return}e.innerHTML="";const{groupMatrix:z,nodes:o,nodeNameMap:i,individualFlows:H}=xo(t);if(o.length===0){e.innerHTML="<p>No data to display.</p>";return}const g=n.width||700,f=n.height||700,y=n.outerRadius||Math.min(g,f)*.5-50,E=n.innerRadius||y-20,v=n.padAngle||.05,F=n.labelOffset||15,k=T(e).append("svg").attr("width",g).attr("height",f).attr("viewBox",[-g/2,-f/2,g,f]).attr("font-size","10px").attr("font-family","sans-serif"),p=jt(yt).domain(o.map(e=>e.name)),L=Vo().padAngle(v).sortSubgroups(Bi).sortChords(null),R=L(z).groups,x=new Map;R.forEach(e=>x.set(e.index,e));const j=.003,a=5e-4,r=new Map,c=new Map;o.forEach(e=>{r.set(e.index,0),c.set(e.index,0)});const _=[];let D=0;H.forEach(e=>{const[p,v,g,h]=e,s=o.find(e=>e.name===p)?.index,t=o.find(e=>e.name===v)?.index;if(s===0[0]||t===0[0])return;r.set(s,(r.get(s)||0)+1),r.set(t,(r.get(t)||0)+1);const d=x.get(s),u=x.get(t);let n=j;const m=d.endAngle-d.startAngle,f=u.endAngle-u.startAngle,l=r.get(s),i=r.get(t),b=l*(j+a)-a,y=i*(j+a)-a;b>m+1e-9&&(n=Math.min(n,(m-(l-1)*a)/l)),y>f+1e-9&&(n=Math.min(n,(f-(i-1)*a)/i)),n=Math.max(1e-4,n),_.push({source:{index:s,value:h,startAngle:0,endAngle:0},target:{index:t,value:h,startAngle:0,endAngle:0},url:g,originalSourceIndex:s,originalTargetIndex:t,id:`ribbon-${D++}`,effectiveWidth:n}),c.set(s,(c.get(s)||0)+n),c.set(t,(c.get(t)||0)+n)});const l=new Map;o.forEach(e=>{let t=c.get(e.index)||0;const n=r.get(e.index)||0;n>1&&(t+=(n-1)*a),l.set(e.index,t)});const S=[];let O=0;o.forEach(e=>{O+=l.get(e.index)||0});const M=2*Math.PI-o.length*v,b=O>0?M/O:0;let w=0;const h=new Map;o.sort((e,t)=>Re(e.name,t.name)).forEach(e=>{const o=(l.get(e.index)||0)*b,n=w,t=w+o,s={index:e.index,startAngle:n,endAngle:t,value:l.get(e.index)||0,source:{index:e.index,startAngle:n,endAngle:t,value:l.get(e.index)||0},target:{index:e.index,startAngle:n,endAngle:t,value:l.get(e.index)||0}};S.push(s),h.set(e.index,s),w=t+v});const A=k.append("g").attr("class","group-elements").selectAll("g").data(S).join("g"),N=Ni().innerRadius(E).outerRadius(y),d=A.append("path").attr("class","group-arc-path").attr("id",e=>`group-arc-${e.index}`).attr("fill",e=>p(i.get(e.index)||"")).attr("stroke",e=>C(p(i.get(e.index)||"")).darker().toString()).attr("stroke-width",1).attr("fill-opacity",.8).attr("d",N).append("title").text(e=>`${i.get(e.index)}
Combined Ribbon Width: ${e.value.toFixed(4)} rad`);A.append("a").attr("href",e=>`${s}${i.get(e.index)||""}`).append("text").each(e=>{e.angle=(e.startAngle+e.endAngle)/2}).attr("dy","0.35em").attr("transform",e=>`
            rotate(${e.angle*180/Math.PI-90})
            translate(${y+F})
            ${e.angle>Math.PI?"rotate(180)":""}
        `).attr("text-anchor",e=>e.angle>Math.PI?"end":null).text(e=>i.get(e.index)||"").style("fill","#333");const m=new Map;o.forEach(e=>{m.set(e.index,[])}),_.forEach(e=>{m.get(e.originalSourceIndex).push({ribbon:e,isSource:!0}),m.get(e.originalTargetIndex).push({ribbon:e,isSource:!1})}),o.sort((e,t)=>Re(e.name,t.name)).forEach(e=>{const n=e.index,o=h.get(n),s=m.get(n);s.sort((e,t)=>{const n=e.isSource?e.ribbon.originalTargetIndex:e.ribbon.originalSourceIndex,s=t.isSource?t.ribbon.originalTargetIndex:t.ribbon.originalSourceIndex,o=h.get(n),i=h.get(s);return Re(o.startAngle,i.startAngle)});let t=o.startAngle;s.forEach(({ribbon:e,isSource:n})=>{const s=e.effectiveWidth*b,r=a*b,o=t,i=t+s;n?(e.source.startAngle=o,e.source.endAngle=i):(e.target.startAngle=o,e.target.endAngle=i),t+=s+r})});const P=ri().radius(E).source(e=>e.source).target(e=>e.target),u=k.append("g").attr("class","ribbons-group").selectAll("path").data(_,e=>e.id).join("path").attr("class","ribbon-path").attr("d",P).attr("fill",e=>p(i.get(e.originalSourceIndex)||"")).attr("stroke",e=>C(p(i.get(e.originalSourceIndex)||"")).darker().toString()).attr("stroke-width",.5).attr("fill-opacity",.6).style("cursor",e=>e.url&&e.url!==""?"pointer":"default");u.on("mouseover",function(e,t){T(this).transition().duration(100).attr("fill-opacity",.9),d.transition().duration(100).attr("fill-opacity",.2).attr("stroke-width",1),T(`#group-arc-${t.originalSourceIndex}`).transition().duration(100).attr("fill-opacity",1).attr("stroke-width",2),T(`#group-arc-${t.originalTargetIndex}`).transition().duration(100).attr("fill-opacity",1).attr("stroke-width",2)}).on("mouseout",function(){T(this).transition().duration(200).attr("fill-opacity",.6),d.transition().duration(200).attr("fill-opacity",.8).attr("stroke-width",1)}).on("click",(e,t)=>{t.url&&t.url!==""&&window.open(t.url,"_blank")}).append("title").text(e=>`${i.get(e.originalSourceIndex)} → ${i.get(e.originalTargetIndex)}
URL: ${e.url||"(N/A)"}`),d.on("mouseover",function(e,t){const n=t.index;u.transition().duration(100).attr("fill-opacity",.1),u.filter(e=>e.originalSourceIndex===n||e.originalTargetIndex===n).transition().duration(100).attr("fill-opacity",.9),d.filter(e=>e.index!==n).transition().duration(100).attr("fill-opacity",.2).attr("stroke-width",1),T(this).transition().duration(100).attr("fill-opacity",1).attr("stroke-width",2)}).on("mouseout",function(){u.transition().duration(200).attr("fill-opacity",.6),d.transition().duration(200).attr("fill-opacity",.8).attr("stroke-width",1)})}document.addEventListener("DOMContentLoaded",()=>{fetch("/meta/tags/index.json").then(e=>e.json()).then(e=>{const i=Co(e),a=i.map(e=>{const t=e.from,n=e.to,s=e.url||"",o=1,i=[t,n,s,o];return i}),s="chordContainer",t=document.getElementById(s);if(!t){console.error(`Container element with ID "${s}" not found.`);return}let r=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-left"))+parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-right"));const n=t.getBoundingClientRect().width-r,o=Math.ceil(n/2.5),c={width:n,height:n,outerRadius:o,innerRadius:o-25,padAngle:.04,labelOffset:10};Oo(t,a,c)}).catch(e=>{console.error("Error fetching or processing tag data:",e);const n="chordContainer",t=document.getElementById(n);t&&(t.innerHTML=`<p style="color: red; font-family: sans-serif;">
                    <strong>Error loading chart data. Please try again later.</strong>
                </p>`)})})})()