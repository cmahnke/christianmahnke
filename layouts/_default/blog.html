{{ define "title" -}}
  {{- .Title }} Â· {{ .Site.Title -}}
{{- end }}

{{ define "content" }}
  {{- $render := "tag" -}}
  {{- if isset .Params "render" -}}
    {{- $render = printf "tag-%s" (.Params.render) -}}
  {{- end -}}

  {{- partial "header.html" . -}}
  <div class="tag-cloud-container">
    {{- $tags := $.Site.Taxonomies.tags.ByCount -}}
    {{- range $tags -}}
      {{- if .Term -}}
        {{- $tagURL := printf "tags/%s" .Term | relURL -}}
        {{- $tag := .Page.Title -}}
        {{- $i18nTag := i18n $tag -}}
        {{- if eq $i18nTag "" -}}
          {{- $i18nTag = i18n .Term -}}
        {{- end -}}
        {{/*  <span class="badge">({{ .Count }})</span> */}}
        {{- if eq $i18nTag "" -}}
          <a class="tag" data-count="{{ .Count }}" href="{{ "tags/" | relLangURL }}{{ $tag | urlize }}" title="{{ $tag }}">{{ partial (printf "tagcloud/%s.html" $render) $tag }}</a>
        {{- else -}}
          <a class="tag" data-count="{{ .Count }}" href="{{ "tags/" | relLangURL }}{{ $tag | urlize }}" title="{{ $i18nTag }}">{{ $i18nTag }}</a>
        {{- end -}}
      {{- end -}}
    {{- end -}}
  </div>

    <div class="content-container posts blog">
        {{- partial "section-heading.html" . -}}
        <div class="posts">
            {{- $pages := where .Site.Pages "Section" "post" -}}
            {{- $mainSite := .Sites.First -}}
            {{- if ne $mainSite .Site -}}
                {{- $pages = ($pages | lang.Merge (where $mainSite.Pages "Section" "post")) -}}
            {{- end -}}

            {{- $paginator := .Paginate (where $pages "Params.displayinlist" "!=" false) -}}
            {{- range $i, $page :=  $paginator.Pages -}}
                {{- .Scratch.Set "class" "odd" -}}
                {{- if modBool $i 2  -}}
                    {{- .Scratch.Set "class" "even" -}}
                {{- end -}}
                {{- partial "li.html" . -}}
            {{- end -}}
        </div>
    </div>
    {{ if or $paginator.HasPrev $paginator.HasNext -}}
      <div class="pagination">
        <div class="pagination-links">
          {{- if $paginator.HasPrev -}}
            <a class="pagination-prev" href="{{ $paginator.Prev.URL }}">&#x25c0;&#xfe0e; {{ i18n "next_page" }}</a>
          {{- else -}}
            <div class="pagination-prev"></div>
          {{- end }}
          {{- if $paginator.HasNext -}}
            <a class="pagination-next" href="{{ $paginator.Next.URL }}">{{ i18n "previous_page" }} &#x25b6;&#xfe0e;</a>
          {{- else -}}
            <div class="pagination-next"></div>
          {{- end -}}
        </div>
      </div>
    {{- end }}

{{ end }}
