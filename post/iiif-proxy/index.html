<!DOCTYPE html>
<html lang="de">

  <head>
    <meta charset="utf-8">
    <title>IIIF Proxy · Christian Mahnke</title>
    <meta name="author" content="Christian Mahnke">
<meta http-equiv="Content-Language" content="de">

<meta name="description" content="On-the-fly Bildbearbeitung für IIIF Ressourcen">
<meta property="og:type" content="article" /><meta property="og:url" content="https://christianmahnke.de/post/iiif-proxy/" /><meta property="og:title" content="IIIF Proxy" />
<meta property="og:image" content="https://christianmahnke.de/post/iiif-proxy/ogPreview_hu_c1aef7871007e866.jpg" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />



<meta name="keywords" content="Falzentfernung, Proxy-Server, Bildbearbeitung, IIIF, OpenCV, Digitale Bilder">
<meta name="generator" content="Hugo 0.152.2">
<meta name="projektemacher.org:build-date" content="2025-11-01 23:46:12.975052247 &#43;0000 UTC m=&#43;0.954273452">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no">

<link rel="icon" type="image/svg+xml" href="https://christianmahnke.de/images/cm.svg">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <meta name="theme-color" content="#701611"><link href="https://christianmahnke.de/css/47ab77ae893ed8ba730219016f312670.min.409f425908bd78264f7bd6d154604335c473faae639f2166855cf4b243845351.css" rel="stylesheet" integrity="sha256-QJ9CWQi9eCZPe9bRVGBDNcRz&#43;q5jnyFmhVz0skOEU1E=">
<script src="https://christianmahnke.de/js/5d85c20c8f862f9ecfa0aee0edbc8fe4.min.827123595458f866f40f1851c8ff2a73fb4bc4bbe9d020799836600f1c370928.js" integrity="sha256-gnEjWVRY+Gb0DxhRyP8qc/tLxLvp0CB5mDZgDxw3CSg="></script>
<script src="https://christianmahnke.de/js/721c4fdccbf9e7c9a389daf09b558bfc.min.f021cb0dd83d3d5b678699e34531870ba2636fff055126735365952080441c6d.js" integrity="sha256-8CHLDdg9PVtnhpnjRTGHC6Jjb/8FUSZzU2WVIIBEHG0="></script><link rel="icon" type="image/png" href="https://christianmahnke.de/images/favicon-32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://christianmahnke.de/images/favicon-16.png" sizes="16x16">
    

    <link rel="shortcut icon" href="https://christianmahnke.de/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://christianmahnke.de/images/favicon.ico" type="image/x-icon">

    <link rel="alternate" type="text/bibtex" href="https://christianmahnke.de/post/iiif-proxy/citation.bib" title="Christian Mahnke" />
    </head><body class="section-post dir-postiiif-proxy  ">
      <a name="top"></a>
      <div class="page-wrapper">
        <div class="main">
          <header class="header header-main" id="head" data-sticky-class="sticky-top">
    <div class="wrapper">
        <label class="menu-open" for="menu-toggle">
            <i class="menu-open-icon"></i>
        </label>
        <div class="menu">
            <nav class="top top-menu">
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="menu-icon"></i></label>
    <ul class="navigation-list"><li class="navigation-item navto-"><a class="navigation-link" href="https://christianmahnke.de/" title="Schwerpunkte">Schwerpunkte<i class="link-icon"></i></a></li><li class="navigation-item navto-collections"><a class="navigation-link" href="https://christianmahnke.de/collections" title="Sammlungen">Sammlungen<i class="link-icon"></i></a></li><li class="navigation-item current navto-post"><a class="navigation-link" href="https://christianmahnke.de/post" title="Blog">Blog<i class="link-icon"></i></a></li><li class="navigation-item navto-links"><a class="navigation-link" href="https://christianmahnke.de/links" title="Links">Links<i class="link-icon"></i></a></li><li class="navigation-item navto-about"><a class="navigation-link" href="https://christianmahnke.de/about" title="Über">Über<i class="link-icon"></i></a></li><li class="navigation-item navto-search"><form action="https://christianmahnke.de/search/" method="get" class="search-form" id="menu-search-form"><input name="q" type="text" placeholder="Suche" class="search-input" id="menu-search-input"><button type="submit" class="search-button" id="menu-search-button"><i class="search-icon"></i></button></form></li><li class="navigation-item lang">
              <a href="https://christianmahnke.de/en/post/iiif-proxy/" title="English">English</a>
            </li></ul>
  </nav>
        </div>
        <div class="home-link">
            <a href="https://christianmahnke.de/"><h1 class="header-title">Christian Mahnke</h1></a>
        </div></div>
    <div class="header-spacer"></div>
    <a href="#top">
        <div class="backToTop"></div>
    </a>
</header>
<div class="content-container single">
    
<div class="post ">
  <div class="content">
      <h1 class="post-title">IIIF Proxy</h1><div class="date">
          <time class="post-data" datetime="2022-01-26T11:44:44&#43;02:00">Mittwoch, 26. Januar 2022</time>
        </div><div class="post-body"><p>Zur Verbesserung der &ldquo;Ausstellbarkeit&rdquo; digitaler Objekte, wie Münzen und Büchern habe ich einen Proxy für IIIF-Ressourcen geschrieben&hellip;</p>
<p>Die digitalen Sammlungen der Uni Göttingen speisen sich hauptsächlich aus zwei Portalen:</p>
<ul>
<li><a href="https://sammlungen.uni-goettingen.de/index/" target="_blank">Wissenschaftliche Sammlungen der Georg-August-Universität Göttingen</a></li>
<li><a href="https://gdz.sub.uni-goettingen.de/" target="_blank">Göttinger Digitialisierungszentrum</a></li>
</ul>
<p>Beide stellen ihre Digitalisate über <a data-wikidata-entity="Q22682088" href="https://iiif.io/" target="_blank">IIIF</a> bereit. Leider sind die bereit gestellten Bilder aber nicht für eine ästhetisch ansprechende Zweitverwendung optimiert.</p>
<p>Um nun eine manuelle Nachbearbeitung und den daraus folgenden Speicheraufwand gering zu halten, habe ich einen bestehenden IIIF Server - <a href="https://github.com/dbmdz/iiif-server-hymir/" target="_blank">Hymir vom MDZ</a> - etwas erweitert, so dass er in der Lage ist sich auf einen institutionellen Server zu setzen und die von diesem ausgelieferten Bilder umzugestalten.</p>
<p>Um die Bildverarbeitung konfigurierbar zu halten, wird ein Feld der IIIF Image API genutzt um die Operation zu spezifizieren. Dafür bot sich das Feld <a href="https://iiif.io/api/image/2.1/#quality" target="_blank"><code>quality</code></a> an, der Proxy erlaubt:</p>
<ul>
<li><code>nofold</code> - Seitenfalz entfernen</li>
<li><code>transparent-background</code> - Transparenter Hintergund</li>
<li><code>nofold+transparentbg</code> - beide zusammen</li>
</ul>
<p>Für die Bildoperationen selbst kommt <a data-wikidata-entity="Q165277" href="https://opencv.org/" target="_blank">OpenCV</a> zum Einsatz, dabei wird der Hintergrund einfach mit einem Schwellwert und nur an den Rändern entfernt - also transparent gemacht. Die Erkennung der Falzist etwas komplizierter, aber auch kein Hexenwerk:</p>
<ul>
<li>Erkennung von Linien (
      
        
      <a data-wikidata-entity="Q195076" href="https://de.wikipedia.org/wiki/Hough-Transformation" target="_blank">Probabilistic Hough Line Transform</a>) im Falzbereich je nach Links- oder Rechtsseitigkeit</li>
<li>Sortierung der erkannten Linien nach Winkel und Länge um den wahrscheinlichsten Kandidaten für die Falz zu finden</li>
<li>Rotation um die erkannte Falz vertikal auszurichten</li>
</ul>
<p>Aber hier könnte die Zuverlässigkeit noch etwas erhöht werden.</p>
<h1 id="beispiele">Beispiele</h1>
<p>Die folgende Beispiele zeigen Digitalisate im jeweiligen Portal und im Viewer des Proxies. Der Viewer des Proxies erlaubt das Ändern der Hintergrundfarbe, um den Kontrast erhöhen zu können. In den Beispielen ist ein blauer Hintergrund voreingestellt.</p>
<h2 id="transparenter-hintergrund">Transparenter Hintergrund</h2>
<div id="_gallery-ec9b940a11fb7aa5aac3403705f707be" class="gallery "><a class="gallery-image caption" href="img/Sammlungsportal-record_DE-MUS-062622_kenom_127703.png" data-pswp-width="2980" data-pswp-height="1664" target="_blank"><img src="https://christianmahnke.de/post/iiif-proxy/img/Sammlungsportal-record_DE-MUS-062622_kenom_127703_hu_9ad3227ebf7550ac.png" alt="Vorher" class="gallery-preview" /><div class="hidden-caption-content">Vorher</div></a><a class="gallery-image caption" href="img/Proxy-record_DE-MUS-062622_kenom_127703.png" data-pswp-width="2980" data-pswp-height="1664" target="_blank"><img src="https://christianmahnke.de/post/iiif-proxy/img/Proxy-record_DE-MUS-062622_kenom_127703_hu_58c19b0409dcde6e.png" alt="Nachher" class="gallery-preview" /><div class="hidden-caption-content">Nachher</div></a></div>

<script type="text/javascript">
  window.photoswipe("#_gallery-ec9b940a11fb7aa5aac3403705f707be", "a.gallery-image")
</script>
<p><a href="https://sammlungen.uni-goettingen.de/objekt/record_DE-MUS-062622_kenom_127703/" target="_blank">Original Eintrag im Portal</a></p>
<div class="small-font-right">
Abbildung: Münzkabinett der Universität Göttingen, Stephan Eckardt, Archäologisches Institut Göttingen, 2014 / Lizenz: Namensnennung - Nicht kommerziell 4.0 (CC BY-NC 4.0)
</div>
<h2 id="ohne-falz">Ohne Falz</h2>
<p>Und mit transparentem Hintergrund&hellip;</p>
<div id="_gallery-ebe79134bbf328d857c0350dcca5d89b" class="gallery "><a class="gallery-image caption" href="img/GDZ-DE-611-HS-3461927_00000016.png" data-pswp-width="2980" data-pswp-height="1664" target="_blank"><img src="https://christianmahnke.de/post/iiif-proxy/img/GDZ-DE-611-HS-3461927_00000016_hu_e8217dcddb560c8b.png" alt="Vorher" class="gallery-preview" /><div class="hidden-caption-content">Vorher</div></a><a class="gallery-image caption" href="img/Proxy-DE-611-HS-3461927_00000016.png" data-pswp-width="2980" data-pswp-height="1664" target="_blank"><img src="https://christianmahnke.de/post/iiif-proxy/img/Proxy-DE-611-HS-3461927_00000016_hu_24a1e8810b61194c.png" alt="Nachher" class="gallery-preview" /><div class="hidden-caption-content">Nachher</div></a></div>

<script type="text/javascript">
  window.photoswipe("#_gallery-ebe79134bbf328d857c0350dcca5d89b", "a.gallery-image")
</script>
<p><a href="https://gdz.sub.uni-goettingen.de/id/DE-611-HS-3461927?tify=%7B%22pages%22%3A%5B16%5D%2C%22view%22%3A%22info%22%7D" target="_blank">Original Eintrag im Portal</a></p>
<div class="small-font-right">
Abbildung: Niedersächsische Staats- und Universitätsbibliothek Göttingen / Lizenz: Public Domain Mark 1.0 (PDM)
</div>
<br>
<p>Das Projekt ist auf <a href="https://github.com/cmahnke/iiif-proxy" target="_blank">GitHub</a> verfügbar.</p>
<h1 id="update-11422">Update 11.4.22</h1>
<p>Aus zeitlichen Gründen wird das Projekt wird erstmal nicht fortgeführt, zumal das Upstream Projekt gerade nichts sehr aktiv ist&hellip;</p></div>
  </div><div class="post-footer"><ul class="wikidata-summary">
    <div class="wikidata-title">Entitäten in diesem Beitrag (Wikidata)</div><li class="wikidata-entry"><a href="http://www.wikidata.org/entity/Q152838" title="Georg-August-Universität Göttingen" rel="related">Wikidata Eintrag: Georg-August-Universität Göttingen</a>
      </li><li class="wikidata-entry"><a href="http://www.wikidata.org/entity/Q504453" title="Groovy" rel="related">Wikidata Eintrag: Groovy</a>
      </li><li class="wikidata-entry"><a href="http://www.wikidata.org/entity/Q564783" title="Niedersächsische Staats- und Universitätsbibliothek Göttingen" rel="related">Wikidata Eintrag: Niedersächsische Staats- und Universitätsbibliothek Göttingen</a>
      </li><li class="wikidata-entry"><a href="http://www.wikidata.org/entity/Q628106" title="Göttinger Digitalisierungszentrum" rel="related">Wikidata Eintrag: Göttinger Digitalisierungszentrum</a>
      </li></ul><div class="spacer">
      </div>
      <div class="meta"><div class="cite-container"><details class="cite">
  <summary class="cite_summary">
    Diesen Beitrag zitieren
  </summary><div class="cite-body">
    <div class="cite-proposal">
      <span class="cite-author">Mahnke, Christian</span> <span class="cite-year">(2022)</span>: <span class="cite-title">IIIF Proxy</span>. In:  <a class="cite-source-link" href="https://christianmahnke.de/">ChristianMahnke.de</a> [Weblog], 26.01.2022. Online-Publikation: <a class="cite-link" href="https://christianmahnke.de/post/iiif-proxy/">https://christianmahnke.de/post/iiif-proxy/</a>.
    </div>
    <a class="bibtex-download" href="https://christianmahnke.de/post/iiif-proxy/citation.bib" title="Als BibTex herunterladen">Als BibTex herunterladen</a>
  </div>
</details>
</div><div class="tags-heading">Schlagworte</div>
        <div class="tags"><a href="https://christianmahnke.de/tags/IIIF" title="IIIF">#IIIF</a><a href="https://christianmahnke.de/tags/OpenCV" title="OpenCV">#OpenCV</a><a href="https://christianmahnke.de/tags/DigitalImages" title="Digitale Bilder">#Digitale Bilder</a></div>
      </div>
    </div>
  
</div>

  </div>

        </div><footer class="footer" role="contentinfo">
    <div class="spacer"></div>
    <div class="content">
        <div class="wrapper">
            <div class="menu-wrapper">
                <div class="footer-nav">
                    <h3 class="footer-nav">Navigation</h3>
                    <nav class="top top-menu">
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="menu-icon"></i></label>
    <ul class="navigation-list"><li class="navigation-item navto-"><a class="navigation-link" href="https://christianmahnke.de/" title="Schwerpunkte">Schwerpunkte<i class="link-icon"></i></a></li><li class="navigation-item navto-collections"><a class="navigation-link" href="https://christianmahnke.de/collections" title="Sammlungen">Sammlungen<i class="link-icon"></i></a></li><li class="navigation-item current navto-post"><a class="navigation-link" href="https://christianmahnke.de/post" title="Blog">Blog<i class="link-icon"></i></a></li><li class="navigation-item navto-links"><a class="navigation-link" href="https://christianmahnke.de/links" title="Links">Links<i class="link-icon"></i></a></li><li class="navigation-item navto-about"><a class="navigation-link" href="https://christianmahnke.de/about" title="Über">Über<i class="link-icon"></i></a></li><li class="navigation-item navto-search"><form action="https://christianmahnke.de/search/" method="get" class="search-form" id="menu-search-form"><input name="q" type="text" placeholder="Suche" class="search-input" id="menu-search-input"><button type="submit" class="search-button" id="menu-search-button"><i class="search-icon"></i></button></form></li><li class="navigation-item lang">
              <a href="https://christianmahnke.de/en/post/iiif-proxy/" title="English">English</a>
            </li></ul>
  </nav>
                </div>
            </div>
            <div class="link-wrapper">
                <h3 class="footer-links">Links</h3>
                <ul class="footer-links"><li class="footer-link"><a href="https://github.com/cmahnke" target="_blank" title="GitHub"><div class="link-image github"></div>GitHub</a></li><li class="footer-link"><a href="https://projektemacher.org/" target="_blank" title="Projektemacher"><img class="link-image projektemacher" alt="Projektemacher Logo" src="https://christianmahnke.de/images/laborant.svg">Projektemacher</a></li><li class="footer-link"><a href="https://orcid.org/0009-0003-1361-4159" target="_blank" title="ORCID"><div class="link-image orcid"></div>0009-0003-1361-4159</a></li><li class="footer-link"><a href="https://www.linkedin.com/in/cmahnke" target="_blank" title="LinkedIn"><div class="link-image linkedin"></div>LinkedIn</a></li><li class="footer-link"><a href="https://www.librarything.com/profile/cmahnke" target="_blank" title="LibraryThing"><div class="link-image librarything"></div>LibraryThing</a></li><li class="footer-link"><a href="https://openbiblio.social/@cmahnke" rel="me" target="_blank" title="Mastodon"><div class="link-image mastodon"></div>@cmahnke@openbiblio.social</a></li><li class="footer-link"><a href="https://www.instagram.com/projektemacher/" target="_blank" title="Instagram" style="display: none;"><div class="link-image instagram"></div>Instagram</a></li><li class="footer-link"><a href="https://term.museum-digital.de/md-de/persinst/322830" target="_blank" title="museum:digital" style="display: none;"><div class="link-image md-term"></div>museum:digital</a></li></ul>
            </div>
            <div class="footer-placeholder"></div>
            <div class="contact-wrapper">
                <h3 class="footer-contact">Kontakt</h3><div class="footer-contact"><h4 class="contact-link">Mail</h4><a href="mailto:mail@christianmahnke.de" title="E-Mail senden">mail@christianmahnke.de</a></div><h3 class="footer-privacy"><a href="https://christianmahnke.de/privacy" title="Datenschutzerklärung">Datenschutzerklärung</a></h3>
                <h1 class=footer-title><img class="footer-icon" alt="Projektemacher.org" src="https://christianmahnke.de/images/cm-black.svg">Christian Mahnke</h1>
            </div>
        </div>
    </div>
    <div class="copyright"><a href="https://christianmahnke.de">&copy; MMXXI - MMXXV Christian Mahnke</a>
        <span class="icons-right"><a href="https://projektemacher.org"><img class="icon" alt="Projektemacher.org" src="https://christianmahnke.de/images/cm.svg"></a></span>
    </div>

</footer>


<script type="text/javascript">
    document.querySelector(".type-text")&&!document.querySelector(".subsection")?enterView({selector:".type-text",enter:function(e){e.classList.add("show")},offset:.25,once:!0}):document.querySelector(".type-text")&&document.querySelectorAll(".type-text").forEach(e=>e.classList.add("show","instant")),document.querySelector(".iframe-wrapper")&&enterView({selector:".iframe-wrapper",enter:function(e){e.classList.add("show")},offset:.45,once:!0}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".backToTop").removeAttribute("href"),document.addEventListener("scroll",function(){window.scrollY>window.innerHeight?document.querySelector("#head").classList.add("show-top-button"):document.querySelector("#head").classList.remove("show-top-button")})})
</script>
</div>
    </body>
 </html>
